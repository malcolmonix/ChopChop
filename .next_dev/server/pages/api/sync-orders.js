"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/sync-orders";
exports.ids = ["pages/api/sync-orders"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase/firestore");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsync-orders&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csync-orders.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsync-orders&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csync-orders.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_sync_orders_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\sync-orders.ts */ \"(api)/./pages/api/sync-orders.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_sync_orders_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_sync_orders_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_sync_orders_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_sync_orders_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/sync-orders\",\n        pathname: \"/api/sync-orders\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_sync_orders_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnN5bmMtb3JkZXJzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNzeW5jLW9yZGVycy50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN5RDtBQUN6RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsc0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHNEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL211bHRpdmVuZG9yLXdlYi8/NDM3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHN5bmMtb3JkZXJzLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3luYy1vcmRlcnNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zeW5jLW9yZGVyc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsync-orders&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csync-orders.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/firebase/client.ts":
/*!********************************!*\
  !*** ./lib/firebase/client.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFirebaseApp: () => (/* binding */ getFirebaseApp),\n/* harmony export */   getFirebaseAuth: () => (/* binding */ getFirebaseAuth)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC8XjBJN-Inntjfqd6GhkfRcbTe4hyMx6Q\",\n    authDomain: \"chopchop-67750.firebaseapp.com\",\n    projectId: \"chopchop-67750\",\n    storageBucket: \"chopchop-67750.firebasestorage.app\",\n    messagingSenderId: \"835361851966\",\n    appId: \"1:835361851966:web:78810ea4389297a8679f6f\"\n};\nfunction getFirebaseApp() {\n    // Validate that all required config values are present\n    if (!firebaseConfig.apiKey) {\n        throw new Error(\"Firebase API key is missing. Check your NEXT_PUBLIC_FIREBASE_API_KEY environment variable.\");\n    }\n    if (!firebaseConfig.authDomain || !firebaseConfig.projectId) {\n        throw new Error(\"Firebase configuration is incomplete. Check your environment variables.\");\n    }\n    try {\n        // Check if default app already exists\n        const existingApps = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)();\n        const defaultApp = existingApps.find((app)=>app.name === \"[DEFAULT]\");\n        if (defaultApp) {\n            return defaultApp;\n        }\n        // If no default app exists, initialize it\n        return (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n    } catch (error) {\n        console.error(\"Error initializing Firebase app:\", error);\n        throw error;\n    }\n}\nfunction getFirebaseAuth() {\n    try {\n        const app = getFirebaseApp();\n        return (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\n    } catch (error) {\n        console.error(\"Error initializing Firebase Auth:\", error);\n        throw error;\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZmlyZWJhc2UvY2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEQ7QUFDdEI7QUFFeEMsTUFBTUcsaUJBQWlCO0lBQ3JCQyxRQUFRQyx5Q0FBd0M7SUFDaERHLFlBQVlILGdDQUE0QztJQUN4REssV0FBV0wsZ0JBQTJDO0lBQ3RETyxlQUFlUCxvQ0FBK0M7SUFDOURTLG1CQUFtQlQsY0FBb0Q7SUFDdkVXLE9BQU9YLDJDQUF1QztBQUNoRDtBQUVPLFNBQVNhO0lBQ2QsdURBQXVEO0lBQ3ZELElBQUksQ0FBQ2YsZUFBZUMsTUFBTSxFQUFFO1FBQzFCLE1BQU0sSUFBSWUsTUFBTTtJQUNsQjtJQUVBLElBQUksQ0FBQ2hCLGVBQWVLLFVBQVUsSUFBSSxDQUFDTCxlQUFlTyxTQUFTLEVBQUU7UUFDM0QsTUFBTSxJQUFJUyxNQUFNO0lBQ2xCO0lBRUEsSUFBSTtRQUNGLHNDQUFzQztRQUN0QyxNQUFNQyxlQUFlbkIscURBQU9BO1FBQzVCLE1BQU1vQixhQUFhRCxhQUFhRSxJQUFJLENBQUNDLENBQUFBLE1BQU9BLElBQUlDLElBQUksS0FBSztRQUV6RCxJQUFJSCxZQUFZO1lBQ2QsT0FBT0E7UUFDVDtRQUVBLDBDQUEwQztRQUMxQyxPQUFPckIsMkRBQWFBLENBQUNHO0lBQ3ZCLEVBQUUsT0FBT3NCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLG9DQUFvQ0E7UUFDbEQsTUFBTUE7SUFDUjtBQUNGO0FBRU8sU0FBU0U7SUFDZCxJQUFJO1FBQ0YsTUFBTUosTUFBTUw7UUFDWixPQUFPaEIsc0RBQU9BLENBQUNxQjtJQUNqQixFQUFFLE9BQU9FLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsTUFBTUE7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXVsdGl2ZW5kb3Itd2ViLy4vbGliL2ZpcmViYXNlL2NsaWVudC50cz9mN2NlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMsIGdldEFwcCB9IGZyb20gJ2ZpcmViYXNlL2FwcCc7XHJcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuXHJcbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xyXG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSxcclxuICBhdXRoRG9tYWluOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTixcclxuICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQsXHJcbiAgc3RvcmFnZUJ1Y2tldDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQsXHJcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQsXHJcbiAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJlYmFzZUFwcCgpIHtcclxuICAvLyBWYWxpZGF0ZSB0aGF0IGFsbCByZXF1aXJlZCBjb25maWcgdmFsdWVzIGFyZSBwcmVzZW50XHJcbiAgaWYgKCFmaXJlYmFzZUNvbmZpZy5hcGlLZXkpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRmlyZWJhc2UgQVBJIGtleSBpcyBtaXNzaW5nLiBDaGVjayB5b3VyIE5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUuJyk7XHJcbiAgfVxyXG4gIFxyXG4gIGlmICghZmlyZWJhc2VDb25maWcuYXV0aERvbWFpbiB8fCAhZmlyZWJhc2VDb25maWcucHJvamVjdElkKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcmViYXNlIGNvbmZpZ3VyYXRpb24gaXMgaW5jb21wbGV0ZS4gQ2hlY2sgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJyk7XHJcbiAgfVxyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICAvLyBDaGVjayBpZiBkZWZhdWx0IGFwcCBhbHJlYWR5IGV4aXN0c1xyXG4gICAgY29uc3QgZXhpc3RpbmdBcHBzID0gZ2V0QXBwcygpO1xyXG4gICAgY29uc3QgZGVmYXVsdEFwcCA9IGV4aXN0aW5nQXBwcy5maW5kKGFwcCA9PiBhcHAubmFtZSA9PT0gJ1tERUZBVUxUXScpO1xyXG4gICAgXHJcbiAgICBpZiAoZGVmYXVsdEFwcCkge1xyXG4gICAgICByZXR1cm4gZGVmYXVsdEFwcDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgbm8gZGVmYXVsdCBhcHAgZXhpc3RzLCBpbml0aWFsaXplIGl0XHJcbiAgICByZXR1cm4gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBGaXJlYmFzZSBhcHA6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlyZWJhc2VBdXRoKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhcHAgPSBnZXRGaXJlYmFzZUFwcCgpO1xyXG4gICAgcmV0dXJuIGdldEF1dGgoYXBwKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIEZpcmViYXNlIEF1dGg6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldEF1dGgiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZIiwiYXV0aERvbWFpbiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOIiwicHJvamVjdElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCIsInN0b3JhZ2VCdWNrZXQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCIsImFwcElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lEIiwiZ2V0RmlyZWJhc2VBcHAiLCJFcnJvciIsImV4aXN0aW5nQXBwcyIsImRlZmF1bHRBcHAiLCJmaW5kIiwiYXBwIiwibmFtZSIsImVycm9yIiwiY29uc29sZSIsImdldEZpcmViYXNlQXV0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/firebase/client.ts\n");

/***/ }),

/***/ "(api)/./pages/api/sync-orders.ts":
/*!**********************************!*\
  !*** ./pages/api/sync-orders.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _lib_firebase_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase/client */ \"(api)/./lib/firebase/client.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _lib_firebase_client__WEBPACK_IMPORTED_MODULE_1__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _lib_firebase_client__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Status mapping from MenuVerse to our delivery tracking system\nconst STATUS_MAP = {\n    \"PENDING\": \"order_received\",\n    \"PENDING_PAYMENT\": \"order_received\",\n    \"CONFIRMED\": \"packaging\",\n    \"PROCESSING\": \"packaging\",\n    \"READY\": \"awaiting_dispatch\",\n    \"OUT_FOR_DELIVERY\": \"dispatched\",\n    \"DELIVERED\": \"delivered\",\n    \"CANCELLED\": \"order_received\"\n};\nasync function handler(req, res) {\n    if (req.method !== \"POST\" && req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { orderId, userId } = req.query;\n        console.log(\"\\uD83D\\uDD04 Syncing orders from MenuVerse to Firebase...\");\n        const app = (0,_lib_firebase_client__WEBPACK_IMPORTED_MODULE_1__.getFirebaseApp)();\n        const db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getFirestore)(app);\n        // If specific orderId provided, sync just that order\n        if (orderId && typeof orderId === \"string\") {\n            await syncSingleOrder(db, orderId);\n            return res.status(200).json({\n                success: true,\n                message: \"Order synced\",\n                orderId\n            });\n        }\n        // If userId provided, sync all orders for that user\n        if (userId && typeof userId === \"string\") {\n            const syncedCount = await syncUserOrders(db, userId);\n            return res.status(200).json({\n                success: true,\n                message: \"Orders synced\",\n                count: syncedCount\n            });\n        }\n        // Otherwise sync recent orders\n        const syncedCount = await syncRecentOrders(db);\n        return res.status(200).json({\n            success: true,\n            message: \"Recent orders synced\",\n            count: syncedCount\n        });\n    } catch (error) {\n        console.error(\"❌ Error syncing orders:\", error);\n        return res.status(500).json({\n            error: \"Failed to sync orders\",\n            details: error.message\n        });\n    }\n}\nasync function syncSingleOrder(db, orderId) {\n    try {\n        // Fetch order from MenuVerse API\n        const menuverseApiUrl = process.env.NEXT_PUBLIC_MENUVERSE_API_URL || \"http://localhost:4000\";\n        const response = await fetch(`${menuverseApiUrl}/graphql`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                query: `\r\n          query GetOrder($id: ID!) {\r\n            order(id: $id) {\r\n              id\r\n              status\r\n              restaurant { id name }\r\n              createdAt\r\n              updatedAt\r\n            }\r\n          }\r\n        `,\n                variables: {\n                    id: orderId\n                }\n            })\n        });\n        const data = await response.json();\n        if (data.data?.order) {\n            await updateOrderInFirebase(db, data.data.order);\n        }\n    } catch (error) {\n        console.error(`Failed to sync order ${orderId}:`, error);\n    }\n}\nasync function syncUserOrders(db, userId) {\n    // Get all orders for this user from Firebase\n    const ordersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(db, \"orders\");\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(ordersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n    const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    let syncedCount = 0;\n    for (const docSnap of snapshot.docs){\n        const orderData = docSnap.data();\n        await syncSingleOrder(db, orderData.orderId);\n        syncedCount++;\n    }\n    return syncedCount;\n}\nasync function syncRecentOrders(db) {\n    // Get orders from last 24 hours from Firebase\n    const ordersRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(db, \"orders\");\n    const yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n    const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)(ordersRef, (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"createdAt\", \">=\", firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.fromDate(yesterday)));\n    const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n    let syncedCount = 0;\n    for (const docSnap of snapshot.docs){\n        const orderData = docSnap.data();\n        await syncSingleOrder(db, orderData.orderId);\n        syncedCount++;\n    }\n    return syncedCount;\n}\nasync function updateOrderInFirebase(db, menuverseOrder) {\n    const orderRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(db, \"orders\", menuverseOrder.id);\n    const orderSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(orderRef);\n    const deliveryStatus = STATUS_MAP[menuverseOrder.status] || \"order_received\";\n    if (!orderSnap.exists()) {\n        // Create new order\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(orderRef, {\n            orderId: menuverseOrder.id,\n            status: menuverseOrder.status,\n            deliveryStatus,\n            eateryId: menuverseOrder.restaurant?.id || \"\",\n            eateryName: menuverseOrder.restaurant?.name || \"\",\n            createdAt: menuverseOrder.createdAt ? firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.fromDate(new Date(menuverseOrder.createdAt)) : firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n            trackingUpdates: [\n                {\n                    status: deliveryStatus,\n                    timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n                    message: getStatusMessage(deliveryStatus)\n                }\n            ]\n        });\n    } else {\n        // Update existing order if status changed\n        const existingData = orderSnap.data();\n        if (existingData.status !== menuverseOrder.status) {\n            const trackingUpdates = existingData.trackingUpdates || [];\n            trackingUpdates.push({\n                status: deliveryStatus,\n                timestamp: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n                message: getStatusMessage(deliveryStatus)\n            });\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(orderRef, {\n                status: menuverseOrder.status,\n                deliveryStatus,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n                trackingUpdates\n            });\n            console.log(`✅ Updated order ${menuverseOrder.id} status: ${menuverseOrder.status} -> ${deliveryStatus}`);\n        }\n    }\n}\nfunction getStatusMessage(deliveryStatus) {\n    const messages = {\n        \"order_received\": \"Restaurant has received your order\",\n        \"packaging\": \"Your food is being prepared and packaged\",\n        \"awaiting_dispatch\": \"Order is ready and waiting for pickup\",\n        \"dispatch_arrived\": \"Delivery rider has arrived at restaurant\",\n        \"dispatched\": \"Order has been picked up by delivery rider\",\n        \"dispatch_otw\": \"Delivery rider is heading to your location\",\n        \"dispatch_arrived_location\": \"Delivery rider has arrived at your address\",\n        \"delivered\": \"Order has been successfully delivered\"\n    };\n    return messages[deliveryStatus] || `Order status updated`;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztRQUN2QyxrQkFBa0I7UUFDbEIsYUFBYTtRQUNiLHFCQUFxQjtRQUNyQixvQkFBb0I7UUFDcEIsY0FBYztRQUNkLGdCQUFnQjtRQUNoQiw2QkFBNkI7UUFDN0IsYUFBYTtJQUNmO0lBRUEsT0FBT0EsUUFBUSxDQUFDZCxlQUFlLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztBQUMzRCIsInNvdXJjZXMiOlsid2VicGFjazovL211bHRpdmVuZG9yLXdlYi8uL3BhZ2VzL2FwaS9zeW5jLW9yZGVycy50cz84ZGRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBnZXRGaXJlc3RvcmUsIGRvYywgdXBkYXRlRG9jLCBnZXREb2MsIHNldERvYywgVGltZXN0YW1wLCBjb2xsZWN0aW9uLCBxdWVyeSwgd2hlcmUsIGdldERvY3MgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG5pbXBvcnQgeyBnZXRGaXJlYmFzZUFwcCB9IGZyb20gJ0AvbGliL2ZpcmViYXNlL2NsaWVudCc7XHJcblxyXG4vLyBTdGF0dXMgbWFwcGluZyBmcm9tIE1lbnVWZXJzZSB0byBvdXIgZGVsaXZlcnkgdHJhY2tpbmcgc3lzdGVtXHJcbmNvbnN0IFNUQVRVU19NQVA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgJ1BFTkRJTkcnOiAnb3JkZXJfcmVjZWl2ZWQnLFxyXG4gICdQRU5ESU5HX1BBWU1FTlQnOiAnb3JkZXJfcmVjZWl2ZWQnLFxyXG4gICdDT05GSVJNRUQnOiAncGFja2FnaW5nJyxcclxuICAnUFJPQ0VTU0lORyc6ICdwYWNrYWdpbmcnLFxyXG4gICdSRUFEWSc6ICdhd2FpdGluZ19kaXNwYXRjaCcsXHJcbiAgJ09VVF9GT1JfREVMSVZFUlknOiAnZGlzcGF0Y2hlZCcsXHJcbiAgJ0RFTElWRVJFRCc6ICdkZWxpdmVyZWQnLFxyXG4gICdDQU5DRUxMRUQnOiAnb3JkZXJfcmVjZWl2ZWQnLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcclxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxyXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXHJcbikge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcgJiYgcmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG9yZGVySWQsIHVzZXJJZCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFN5bmNpbmcgb3JkZXJzIGZyb20gTWVudVZlcnNlIHRvIEZpcmViYXNlLi4uJyk7XHJcblxyXG4gICAgY29uc3QgYXBwID0gZ2V0RmlyZWJhc2VBcHAoKTtcclxuICAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcblxyXG4gICAgLy8gSWYgc3BlY2lmaWMgb3JkZXJJZCBwcm92aWRlZCwgc3luYyBqdXN0IHRoYXQgb3JkZXJcclxuICAgIGlmIChvcmRlcklkICYmIHR5cGVvZiBvcmRlcklkID09PSAnc3RyaW5nJykge1xyXG4gICAgICBhd2FpdCBzeW5jU2luZ2xlT3JkZXIoZGIsIG9yZGVySWQpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnT3JkZXIgc3luY2VkJywgb3JkZXJJZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB1c2VySWQgcHJvdmlkZWQsIHN5bmMgYWxsIG9yZGVycyBmb3IgdGhhdCB1c2VyXHJcbiAgICBpZiAodXNlcklkICYmIHR5cGVvZiB1c2VySWQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGNvbnN0IHN5bmNlZENvdW50ID0gYXdhaXQgc3luY1VzZXJPcmRlcnMoZGIsIHVzZXJJZCk7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdPcmRlcnMgc3luY2VkJywgY291bnQ6IHN5bmNlZENvdW50IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE90aGVyd2lzZSBzeW5jIHJlY2VudCBvcmRlcnNcclxuICAgIGNvbnN0IHN5bmNlZENvdW50ID0gYXdhaXQgc3luY1JlY2VudE9yZGVycyhkYik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUmVjZW50IG9yZGVycyBzeW5jZWQnLCBjb3VudDogc3luY2VkQ291bnQgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzeW5jaW5nIG9yZGVyczonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcclxuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc3luYyBvcmRlcnMnLFxyXG4gICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzeW5jU2luZ2xlT3JkZXIoZGI6IGFueSwgb3JkZXJJZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIG9yZGVyIGZyb20gTWVudVZlcnNlIEFQSVxyXG4gICAgY29uc3QgbWVudXZlcnNlQXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfTUVOVVZFUlNFX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMCc7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke21lbnV2ZXJzZUFwaVVybH0vZ3JhcGhxbGAsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgcXVlcnk6IGBcclxuICAgICAgICAgIHF1ZXJ5IEdldE9yZGVyKCRpZDogSUQhKSB7XHJcbiAgICAgICAgICAgIG9yZGVyKGlkOiAkaWQpIHtcclxuICAgICAgICAgICAgICBpZFxyXG4gICAgICAgICAgICAgIHN0YXR1c1xyXG4gICAgICAgICAgICAgIHJlc3RhdXJhbnQgeyBpZCBuYW1lIH1cclxuICAgICAgICAgICAgICBjcmVhdGVkQXRcclxuICAgICAgICAgICAgICB1cGRhdGVkQXRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGAsXHJcbiAgICAgICAgdmFyaWFibGVzOiB7IGlkOiBvcmRlcklkIH0sXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGlmIChkYXRhLmRhdGE/Lm9yZGVyKSB7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZU9yZGVySW5GaXJlYmFzZShkYiwgZGF0YS5kYXRhLm9yZGVyKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHN5bmMgb3JkZXIgJHtvcmRlcklkfTpgLCBlcnJvcik7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzeW5jVXNlck9yZGVycyhkYjogYW55LCB1c2VySWQ6IHN0cmluZykge1xyXG4gIC8vIEdldCBhbGwgb3JkZXJzIGZvciB0aGlzIHVzZXIgZnJvbSBGaXJlYmFzZVxyXG4gIGNvbnN0IG9yZGVyc1JlZiA9IGNvbGxlY3Rpb24oZGIsICdvcmRlcnMnKTtcclxuICBjb25zdCBxID0gcXVlcnkob3JkZXJzUmVmLCB3aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKSk7XHJcbiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xyXG5cclxuICBsZXQgc3luY2VkQ291bnQgPSAwO1xyXG4gIGZvciAoY29uc3QgZG9jU25hcCBvZiBzbmFwc2hvdC5kb2NzKSB7XHJcbiAgICBjb25zdCBvcmRlckRhdGEgPSBkb2NTbmFwLmRhdGEoKTtcclxuICAgIGF3YWl0IHN5bmNTaW5nbGVPcmRlcihkYiwgb3JkZXJEYXRhLm9yZGVySWQpO1xyXG4gICAgc3luY2VkQ291bnQrKztcclxuICB9XHJcblxyXG4gIHJldHVybiBzeW5jZWRDb3VudDtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc3luY1JlY2VudE9yZGVycyhkYjogYW55KSB7XHJcbiAgLy8gR2V0IG9yZGVycyBmcm9tIGxhc3QgMjQgaG91cnMgZnJvbSBGaXJlYmFzZVxyXG4gIGNvbnN0IG9yZGVyc1JlZiA9IGNvbGxlY3Rpb24oZGIsICdvcmRlcnMnKTtcclxuICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZSgpO1xyXG4gIHllc3RlcmRheS5zZXREYXRlKHllc3RlcmRheS5nZXREYXRlKCkgLSAxKTtcclxuICBcclxuICBjb25zdCBxID0gcXVlcnkob3JkZXJzUmVmLCB3aGVyZSgnY3JlYXRlZEF0JywgJz49JywgVGltZXN0YW1wLmZyb21EYXRlKHllc3RlcmRheSkpKTtcclxuICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XHJcblxyXG4gIGxldCBzeW5jZWRDb3VudCA9IDA7XHJcbiAgZm9yIChjb25zdCBkb2NTbmFwIG9mIHNuYXBzaG90LmRvY3MpIHtcclxuICAgIGNvbnN0IG9yZGVyRGF0YSA9IGRvY1NuYXAuZGF0YSgpO1xyXG4gICAgYXdhaXQgc3luY1NpbmdsZU9yZGVyKGRiLCBvcmRlckRhdGEub3JkZXJJZCk7XHJcbiAgICBzeW5jZWRDb3VudCsrO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHN5bmNlZENvdW50O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVPcmRlckluRmlyZWJhc2UoZGI6IGFueSwgbWVudXZlcnNlT3JkZXI6IGFueSkge1xyXG4gIGNvbnN0IG9yZGVyUmVmID0gZG9jKGRiLCAnb3JkZXJzJywgbWVudXZlcnNlT3JkZXIuaWQpO1xyXG4gIGNvbnN0IG9yZGVyU25hcCA9IGF3YWl0IGdldERvYyhvcmRlclJlZik7XHJcblxyXG4gIGNvbnN0IGRlbGl2ZXJ5U3RhdHVzID0gU1RBVFVTX01BUFttZW51dmVyc2VPcmRlci5zdGF0dXNdIHx8ICdvcmRlcl9yZWNlaXZlZCc7XHJcblxyXG4gIGlmICghb3JkZXJTbmFwLmV4aXN0cygpKSB7XHJcbiAgICAvLyBDcmVhdGUgbmV3IG9yZGVyXHJcbiAgICBhd2FpdCBzZXREb2Mob3JkZXJSZWYsIHtcclxuICAgICAgb3JkZXJJZDogbWVudXZlcnNlT3JkZXIuaWQsXHJcbiAgICAgIHN0YXR1czogbWVudXZlcnNlT3JkZXIuc3RhdHVzLFxyXG4gICAgICBkZWxpdmVyeVN0YXR1cyxcclxuICAgICAgZWF0ZXJ5SWQ6IG1lbnV2ZXJzZU9yZGVyLnJlc3RhdXJhbnQ/LmlkIHx8ICcnLFxyXG4gICAgICBlYXRlcnlOYW1lOiBtZW51dmVyc2VPcmRlci5yZXN0YXVyYW50Py5uYW1lIHx8ICcnLFxyXG4gICAgICBjcmVhdGVkQXQ6IG1lbnV2ZXJzZU9yZGVyLmNyZWF0ZWRBdCA/IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShtZW51dmVyc2VPcmRlci5jcmVhdGVkQXQpKSA6IFRpbWVzdGFtcC5ub3coKSxcclxuICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KCksXHJcbiAgICAgIHRyYWNraW5nVXBkYXRlczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHN0YXR1czogZGVsaXZlcnlTdGF0dXMsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IFRpbWVzdGFtcC5ub3coKSxcclxuICAgICAgICAgIG1lc3NhZ2U6IGdldFN0YXR1c01lc3NhZ2UoZGVsaXZlcnlTdGF0dXMpLFxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBVcGRhdGUgZXhpc3Rpbmcgb3JkZXIgaWYgc3RhdHVzIGNoYW5nZWRcclxuICAgIGNvbnN0IGV4aXN0aW5nRGF0YSA9IG9yZGVyU25hcC5kYXRhKCk7XHJcbiAgICBpZiAoZXhpc3RpbmdEYXRhLnN0YXR1cyAhPT0gbWVudXZlcnNlT3JkZXIuc3RhdHVzKSB7XHJcbiAgICAgIGNvbnN0IHRyYWNraW5nVXBkYXRlcyA9IGV4aXN0aW5nRGF0YS50cmFja2luZ1VwZGF0ZXMgfHwgW107XHJcbiAgICAgIHRyYWNraW5nVXBkYXRlcy5wdXNoKHtcclxuICAgICAgICBzdGF0dXM6IGRlbGl2ZXJ5U3RhdHVzLFxyXG4gICAgICAgIHRpbWVzdGFtcDogVGltZXN0YW1wLm5vdygpLFxyXG4gICAgICAgIG1lc3NhZ2U6IGdldFN0YXR1c01lc3NhZ2UoZGVsaXZlcnlTdGF0dXMpLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhvcmRlclJlZiwge1xyXG4gICAgICAgIHN0YXR1czogbWVudXZlcnNlT3JkZXIuc3RhdHVzLFxyXG4gICAgICAgIGRlbGl2ZXJ5U3RhdHVzLFxyXG4gICAgICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxyXG4gICAgICAgIHRyYWNraW5nVXBkYXRlcyxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFVwZGF0ZWQgb3JkZXIgJHttZW51dmVyc2VPcmRlci5pZH0gc3RhdHVzOiAke21lbnV2ZXJzZU9yZGVyLnN0YXR1c30gLT4gJHtkZWxpdmVyeVN0YXR1c31gKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFN0YXR1c01lc3NhZ2UoZGVsaXZlcnlTdGF0dXM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgbWVzc2FnZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAnb3JkZXJfcmVjZWl2ZWQnOiAnUmVzdGF1cmFudCBoYXMgcmVjZWl2ZWQgeW91ciBvcmRlcicsXHJcbiAgICAncGFja2FnaW5nJzogJ1lvdXIgZm9vZCBpcyBiZWluZyBwcmVwYXJlZCBhbmQgcGFja2FnZWQnLFxyXG4gICAgJ2F3YWl0aW5nX2Rpc3BhdGNoJzogJ09yZGVyIGlzIHJlYWR5IGFuZCB3YWl0aW5nIGZvciBwaWNrdXAnLFxyXG4gICAgJ2Rpc3BhdGNoX2Fycml2ZWQnOiAnRGVsaXZlcnkgcmlkZXIgaGFzIGFycml2ZWQgYXQgcmVzdGF1cmFudCcsXHJcbiAgICAnZGlzcGF0Y2hlZCc6ICdPcmRlciBoYXMgYmVlbiBwaWNrZWQgdXAgYnkgZGVsaXZlcnkgcmlkZXInLFxyXG4gICAgJ2Rpc3BhdGNoX290dyc6ICdEZWxpdmVyeSByaWRlciBpcyBoZWFkaW5nIHRvIHlvdXIgbG9jYXRpb24nLFxyXG4gICAgJ2Rpc3BhdGNoX2Fycml2ZWRfbG9jYXRpb24nOiAnRGVsaXZlcnkgcmlkZXIgaGFzIGFycml2ZWQgYXQgeW91ciBhZGRyZXNzJyxcclxuICAgICdkZWxpdmVyZWQnOiAnT3JkZXIgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGRlbGl2ZXJlZCcsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIG1lc3NhZ2VzW2RlbGl2ZXJ5U3RhdHVzXSB8fCBgT3JkZXIgc3RhdHVzIHVwZGF0ZWRgO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJnZXRGaXJlc3RvcmUiLCJkb2MiLCJ1cGRhdGVEb2MiLCJnZXREb2MiLCJzZXREb2MiLCJUaW1lc3RhbXAiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJ3aGVyZSIsImdldERvY3MiLCJnZXRGaXJlYmFzZUFwcCIsIlNUQVRVU19NQVAiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwib3JkZXJJZCIsInVzZXJJZCIsImNvbnNvbGUiLCJsb2ciLCJhcHAiLCJkYiIsInN5bmNTaW5nbGVPcmRlciIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwic3luY2VkQ291bnQiLCJzeW5jVXNlck9yZGVycyIsImNvdW50Iiwic3luY1JlY2VudE9yZGVycyIsImRldGFpbHMiLCJtZW51dmVyc2VBcGlVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfTUVOVVZFUlNFX0FQSV9VUkwiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidmFyaWFibGVzIiwiaWQiLCJkYXRhIiwib3JkZXIiLCJ1cGRhdGVPcmRlckluRmlyZWJhc2UiLCJvcmRlcnNSZWYiLCJxIiwic25hcHNob3QiLCJkb2NTbmFwIiwiZG9jcyIsIm9yZGVyRGF0YSIsInllc3RlcmRheSIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImZyb21EYXRlIiwibWVudXZlcnNlT3JkZXIiLCJvcmRlclJlZiIsIm9yZGVyU25hcCIsImRlbGl2ZXJ5U3RhdHVzIiwiZXhpc3RzIiwiZWF0ZXJ5SWQiLCJyZXN0YXVyYW50IiwiZWF0ZXJ5TmFtZSIsIm5hbWUiLCJjcmVhdGVkQXQiLCJub3ciLCJ1cGRhdGVkQXQiLCJ0cmFja2luZ1VwZGF0ZXMiLCJ0aW1lc3RhbXAiLCJnZXRTdGF0dXNNZXNzYWdlIiwiZXhpc3RpbmdEYXRhIiwicHVzaCIsIm1lc3NhZ2VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/sync-orders.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsync-orders&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csync-orders.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();